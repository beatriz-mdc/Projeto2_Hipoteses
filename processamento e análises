# Etapas do projeto

1. Processamento e preparação da base de dados
Os dados foram disponibilizados pela Laboratoria em pasta zipada com 3 planilhas CSV nomeadas “track_in_competition”, “track_in_spotify” e “track_technical_info”. 
Esses arquivos contém informações de desempenho de músicas dentro do spotify, bem como em plataformas concorrentes e também informações técnicas sobre cada faixa. 
Foi criado um projeto dentro da ferramenta BigQuery nomeada "projeto 2" e, em seguida, um dataset nomeado "musica_streaming" onde foram feitos os uploads das tabelas extraídas da pasta zipada.

*Identificar e tratar valores nulos*
Para localizar valores nulos foi utilizada a seguinte query em cada uma das tabelas:

```sql
SELECT 
* 
FROM projeto.dataset.tabela 
WHERE coluna IS NULL;
```

A partir dessa query foram localizados valores nulos nas tabelas “track_in_competition” e “track_technical_info”. Na tabela “track_in_competition” os dados nulos estavam na coluna "in_shazam_charts". Essa coluna sinaliza a posição que a música está dentro do chart do shazam. Dessa forma, nossa tratativa foi atribuir o número 0 a esses valores, uma vez que não constam em nenhuma posição do chart. Na tabela “track_technical_info” os dados nulos estavam na coluna "key". Essa coluna informa qual a nota musical de cada música. Para tratar esses valores nulos, verificamos qual a nota musical que mais aparecia nas demais músicas que continham essa informação na tabela. O resultado foi a nota "C#" como maior ocorrência na tabela. Com isso, utilizamos "C#" para substituir os valores nulos dessa coluna. A query utilizada foi a seguinte:

```sql
CREATE OR REPLACE TABLE `projeto-2-456519.musica_streaming.tracks_concorrentes` AS
SELECT
track_id,
bpm,
COALESCE(key, 'C#') AS key,
mode,
`danceability_%`,
`valence_%`,
`energy_%`,
`acousticness_%`,
`instrumentalness_%`,
`liveness_%`,
`speechiness_%`
FROM `projeto-2-456519.musica_streaming.tracks_concorrentes`;
```

*Identificar e tratar valores duplicados*
Esses valores duplicados foram encontrados na tabela “track_in_spotify” com a seguinte query:

```sql
SELECT 
track_name,
artists_name,
COUNT (*) AS Duplicatas
 FROM `projeto-2-456519.musica_streaming.tracks_spotify`
 GROUP BY track_name, artists_name
 HAVING COUNT (*) >1
```

Foram encontradas 4 músicas com duplicatas. A partir de uma análise das outras variáveis, foi verificado um padrão em 3 músicas, onde essas não apresentavam a informação de chart. Com isso, foi decidido excluir essas canções com chart zero.
Dentre as duplicatas encontradas, apenas 1 não apresentava esse comportamento.










